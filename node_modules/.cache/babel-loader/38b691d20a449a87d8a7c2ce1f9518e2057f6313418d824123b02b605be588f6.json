{"ast":null,"code":"var _jsxFileName = \"M:\\\\first-react\\\\rrdecoration\\\\admin\\\\src\\\\components\\\\EditAnnouncments.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport EditModal from './EditModal';\nimport styled from 'styled-components';\nimport { req } from '../axiosReqMethods';\nimport { setError } from '../redux/MessageRedux';\nimport { useDispatch } from 'react-redux';\nimport { addannouncements, editAnnoucment } from '../redux/AnnoucmentRedux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  margin: 1rem 0;\n  display: grid;\n  gap: 1rem;\n  @media (max-width: 800px) { //added this bza left side was overflowing\n    margin-left: 1em;\n  }\n`;\n_c = Container;\nconst Section = styled.div`\n  display: flex;\n\n  @media (max-width: 800px) {\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n`;\n_c2 = Section;\nconst Left = styled.div`\n  flex: 1;\n\n`;\n_c3 = Left;\nconst Right = styled.div`\n  flex: 2;\n\n  > input, select {\n    box-sizing: border-box;\n    width: 100%;\n    padding: 0.9rem 0.5rem;\n    background-color: #F4F5F7;\n    border: 1px rgb(229,231,235) solid;\n    border-radius: 1vmin;\n    font-size: 1.1rem;\n    outline: none;\n\n    :focus  {\n      background-color: white;\n    }\n  }\n`;\n_c4 = Right;\nconst Textarea = styled.textarea`\n    box-sizing: border-box;\n    width: 100%;\n    height: 500px;\n    resize: vertical;\n    padding: 0.9rem 0.5rem;\n    background-color: #F4F5F7;\n    border: 1px rgb(229,231,235) solid;\n    border-radius: 1vmin;\n    font-size: 1.1rem;\n    outline-color: lightblue;\n`;\n_c5 = Textarea;\nfunction EditAnnouncments({\n  isOpen,\n  setIsOpen,\n  EditAnnouncmentsInfo,\n  title,\n  desc\n}) {\n  _s();\n  const dispatch = useDispatch();\n  const DefaultValues = {\n    title: \"\",\n    active: false\n  };\n  const [annoucment, setAnnoucment] = useState(DefaultValues);\n  useEffect(() => {\n    if (!EditAnnouncmentsInfo) return;\n    setAnnoucment({\n      ...EditAnnouncmentsInfo\n    });\n  }, [EditAnnouncmentsInfo]);\n  const handleChange = e => {\n    const name = e.target.name;\n    let value = e.target.value;\n    if (name === \"active\") value = JSON.parse(value); // parsivg value to json because this is coming like \"true\" and i want true thats why parsed it to JSON\n    setAnnoucment(p => ({\n      ...p,\n      [name]: value\n    }));\n  };\n  const editAnnouncmentApi = async () => {\n    try {\n      const {\n        data\n      } = await req.put(`/api/announcment/${annoucment._id}`, {\n        title: annoucment.title,\n        active: annoucment.active\n      });\n      dispatch(setError(data === null || data === void 0 ? void 0 : data.message));\n      dispatch(editAnnoucment(annoucment));\n    } catch (error) {\n      dispatch(setError(error.responce.data.message));\n    }\n  };\n  const addAnnouncmentApi = async () => {\n    try {\n      const {\n        data\n      } = await req.post(\"/api/announcment\", annoucment);\n      dispatch(setError(data === null || data === void 0 ? void 0 : data.message));\n      dispatch(addannouncements(annoucment));\n    } catch (error) {\n      dispatch(setError(error.responce.data.message));\n    }\n  };\n  const handleSubmit = () => {\n    if (!EditAnnouncmentsInfo) {\n      addAnnouncmentApi();\n    } else {\n      editAnnouncmentApi();\n    }\n    setIsOpen(false);\n  };\n  return /*#__PURE__*/_jsxDEV(EditModal, {\n    isOpen: isOpen,\n    setIsOpen: setIsOpen,\n    action: handleSubmit,\n    title: title,\n    desc: desc,\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Section, {\n        children: [/*#__PURE__*/_jsxDEV(Left, {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Product Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Right, {\n          children: /*#__PURE__*/_jsxDEV(Textarea, {\n            name: \"title\",\n            value: annoucment.title,\n            onChange: e => handleChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 24\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Section, {\n        children: [/*#__PURE__*/_jsxDEV(Left, {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"is activated\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Right, {\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"active\",\n            value: annoucment.active,\n            onChange: e => handleChange(e),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: false,\n              children: \"false\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: true,\n              children: \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n}\n_s(EditAnnouncments, \"R3F7OtvT348u5xY06FXLLCXAuAo=\", false, function () {\n  return [useDispatch];\n});\n_c6 = EditAnnouncments;\nexport default EditAnnouncments;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Section\");\n$RefreshReg$(_c3, \"Left\");\n$RefreshReg$(_c4, \"Right\");\n$RefreshReg$(_c5, \"Textarea\");\n$RefreshReg$(_c6, \"EditAnnouncments\");","map":{"version":3,"names":["useState","useEffect","EditModal","styled","req","setError","useDispatch","addannouncements","editAnnoucment","jsxDEV","_jsxDEV","Container","div","_c","Section","_c2","Left","_c3","Right","_c4","Textarea","textarea","_c5","EditAnnouncments","isOpen","setIsOpen","EditAnnouncmentsInfo","title","desc","_s","dispatch","DefaultValues","active","annoucment","setAnnoucment","handleChange","e","name","target","value","JSON","parse","p","editAnnouncmentApi","data","put","_id","message","error","responce","addAnnouncmentApi","post","handleSubmit","action","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","_c6","$RefreshReg$"],"sources":["M:/first-react/rrdecoration/admin/src/components/EditAnnouncments.js"],"sourcesContent":["import {useState, useEffect} from 'react'\r\nimport EditModal from './EditModal'\r\nimport styled from 'styled-components'\r\nimport { req } from '../axiosReqMethods'\r\nimport { setError } from '../redux/MessageRedux'\r\nimport { useDispatch } from 'react-redux'\r\nimport { addannouncements, editAnnoucment } from '../redux/AnnoucmentRedux'\r\n\r\n\r\nconst Container = styled.div`\r\n  margin: 1rem 0;\r\n  display: grid;\r\n  gap: 1rem;\r\n  @media (max-width: 800px) { //added this bza left side was overflowing\r\n    margin-left: 1em;\r\n  }\r\n`\r\nconst Section = styled.div`\r\n  display: flex;\r\n\r\n  @media (max-width: 800px) {\r\n    flex-direction: column;\r\n    gap: 0.5rem;\r\n  }\r\n`\r\nconst Left = styled.div`\r\n  flex: 1;\r\n\r\n`\r\nconst Right = styled.div`\r\n  flex: 2;\r\n\r\n  > input, select {\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    padding: 0.9rem 0.5rem;\r\n    background-color: #F4F5F7;\r\n    border: 1px rgb(229,231,235) solid;\r\n    border-radius: 1vmin;\r\n    font-size: 1.1rem;\r\n    outline: none;\r\n\r\n    :focus  {\r\n      background-color: white;\r\n    }\r\n  }\r\n`\r\n\r\nconst Textarea = styled.textarea`\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    height: 500px;\r\n    resize: vertical;\r\n    padding: 0.9rem 0.5rem;\r\n    background-color: #F4F5F7;\r\n    border: 1px rgb(229,231,235) solid;\r\n    border-radius: 1vmin;\r\n    font-size: 1.1rem;\r\n    outline-color: lightblue;\r\n`\r\n\r\n\r\nfunction EditAnnouncments({isOpen, setIsOpen, EditAnnouncmentsInfo, title, desc}) {\r\n  const dispatch = useDispatch()\r\n  const DefaultValues = {title:\"\", active: false}\r\n\r\n  const [annoucment, setAnnoucment] = useState(DefaultValues)\r\n\r\n  useEffect(() => {\r\n    if(!EditAnnouncmentsInfo)  return\r\n    setAnnoucment({...EditAnnouncmentsInfo}) \r\n  }, [EditAnnouncmentsInfo])\r\n\r\n  const handleChange = (e) => {\r\n    const name = e.target.name;\r\n    let value = e.target.value;\r\n    if (name === \"active\") value = JSON.parse(value) // parsivg value to json because this is coming like \"true\" and i want true thats why parsed it to JSON\r\n    setAnnoucment(p => ({...p, [name]: value}))\r\n  }\r\n\r\n  const editAnnouncmentApi = async () => {\r\n    try {\r\n      const {data} = await req.put(`/api/announcment/${annoucment._id}`, {title: annoucment.title, active: annoucment.active})\r\n      dispatch(setError(data?.message))\r\n      dispatch(editAnnoucment(annoucment))\r\n    } catch (error) {\r\n      dispatch(setError(error.responce.data.message))\r\n    }\r\n    \r\n  }\r\n  const addAnnouncmentApi = async () => {\r\n    try {\r\n      const {data} = await req.post(\"/api/announcment\", annoucment)\r\n      dispatch(setError(data?.message))\r\n      dispatch(addannouncements(annoucment))\r\n    } catch (error) {\r\n      dispatch(setError(error.responce.data.message))\r\n    }\r\n    \r\n  }\r\n  \r\n  const handleSubmit = () => {\r\n    if(!EditAnnouncmentsInfo){\r\n      addAnnouncmentApi()\r\n    } else {\r\n      editAnnouncmentApi()\r\n    }\r\n    setIsOpen(false)\r\n  }\r\n\r\n  return (\r\n    <EditModal isOpen={isOpen} setIsOpen={setIsOpen} action={handleSubmit} title={title} desc={desc}>\r\n        <Container>\r\n            <Section>\r\n                <Left><label>Product Description</label></Left>\r\n                <Right><Textarea name=\"title\" value={annoucment.title} onChange={e => handleChange(e)}/></Right>\r\n            </Section>\r\n\r\n            <Section>\r\n                <Left><label>is activated</label></Left>\r\n                <Right>\r\n                <select name=\"active\" value={annoucment.active} onChange={e => handleChange(e)}>\r\n                    <option value={false}>false</option>\r\n                    <option value={true}>true</option>\r\n                </select>\r\n                </Right>\r\n            </Section>\r\n          \r\n        </Container>\r\n    </EditModal>\r\n  )\r\n}\r\n\r\nexport default EditAnnouncments"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}