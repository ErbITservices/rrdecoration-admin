{"ast":null,"code":"import Home from\"./pages/Home\";import{Navigate,Route,Routes,Outlet,useLocation}from\"react-router-dom\";import'./App.css';import Login from\"./pages/Login\";import{useDispatch,useSelector}from\"react-redux\";import Navbar from\"./components/Navbar\";import SlideBar from\"./components/SlideBar\";import UserPage from\"./pages/UserPage\";import Users from\"./pages/Users\";import{logoutUser}from\"./redux/userRedux\";import jwt_decode from'jwt-decode';import Products from\"./pages/Products\";import{useState}from\"react\";import MessageComponent from\"./components/MesageComponent\";import{useEffect}from\"react\";import Orders from\"./pages/Orders\";import Invoice from\"./pages/Invoice\";import Annoucment from\"./pages/Annoucment\";import Ticket from\"./pages/Ticket\";import Addserviceorder from\"./components/Addserviceorder\";import AllComplains from\"./pages/AllComplains\";import Librery from\"./pages/Librery\";import Renewrequest from\"./pages/Renewrequest\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function IsLogedin(){const user=useSelector(state=>state.user.currentUser);return user?/*#__PURE__*/_jsx(Navigate,{to:\"/\"}):/*#__PURE__*/_jsx(Outlet,{});}function PrivateRoute(){const dispatch=useDispatch();const user=useSelector(state=>state.user.currentUser);if(!(user!==null&&user!==void 0&&user.accessToken))return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});try{const decoded=jwt_decode(user.accessToken);if(decoded.exp*1000<Date.now()){dispatch(logoutUser());return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}}catch(err){console.log(err);dispatch(logoutUser());return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}return/*#__PURE__*/_jsx(Outlet,{});}function App(){const user=useSelector(state=>state.user.currentUser);const[isSlideBarOpen,setisSlideBarOpen]=useState(false);const location=useLocation();useEffect(()=>{setisSlideBarOpen(false);},[location.pathname]);return/*#__PURE__*/_jsxs(_Fragment,{children:[user&&/*#__PURE__*/_jsx(Navbar,{setSideBar:setisSlideBarOpen,isOpen:isSlideBarOpen}),/*#__PURE__*/_jsxs(\"div\",{style:{height:\"100vh\"},children:[user&&/*#__PURE__*/_jsx(SlideBar,{isOpen:isSlideBarOpen}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{element:/*#__PURE__*/_jsx(IsLogedin,{}),children:/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})})}),/*#__PURE__*/_jsxs(Route,{element:/*#__PURE__*/_jsx(PrivateRoute,{}),children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/user\",element:/*#__PURE__*/_jsx(Users,{})}),/*#__PURE__*/_jsx(Route,{path:\"/Ticket\",element:/*#__PURE__*/_jsx(Ticket,{})}),/*#__PURE__*/_jsx(Route,{path:\"/AllLaibrary\",element:/*#__PURE__*/_jsx(Librery,{})}),/*#__PURE__*/_jsx(Route,{path:\"/Renewrequest\",element:/*#__PURE__*/_jsx(Renewrequest,{})}),/*#__PURE__*/_jsx(Route,{path:\"/AllComplains\",element:/*#__PURE__*/_jsx(AllComplains,{})}),/*#__PURE__*/_jsx(Route,{path:\"/Addserviceorder\",element:/*#__PURE__*/_jsx(Addserviceorder,{})}),/*#__PURE__*/_jsx(Route,{path:\"/user/:id\",element:/*#__PURE__*/_jsx(UserPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/products\",element:/*#__PURE__*/_jsx(Products,{})}),/*#__PURE__*/_jsx(Route,{path:\"/orders\",element:/*#__PURE__*/_jsx(Orders,{})}),/*#__PURE__*/_jsx(Route,{path:\"/order/:id\",element:/*#__PURE__*/_jsx(Invoice,{})}),/*#__PURE__*/_jsx(Route,{path:\"announcment\",element:/*#__PURE__*/_jsx(Annoucment,{})})]})]}),/*#__PURE__*/_jsx(MessageComponent,{})]})]});}export default App;","map":{"version":3,"names":["Home","Navigate","Route","Routes","Outlet","useLocation","Login","useDispatch","useSelector","Navbar","SlideBar","UserPage","Users","logoutUser","jwt_decode","Products","useState","MessageComponent","useEffect","Orders","Invoice","Annoucment","Ticket","Addserviceorder","AllComplains","Librery","Renewrequest","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","IsLogedin","user","state","currentUser","to","PrivateRoute","dispatch","accessToken","decoded","exp","Date","now","err","console","log","App","isSlideBarOpen","setisSlideBarOpen","location","pathname","children","setSideBar","isOpen","style","height","element","path"],"sources":["M:/first-react/panara/admin/src/App.js"],"sourcesContent":["import Home from \"./pages/Home\";\nimport {Navigate, Route, Routes, Outlet, useLocation} from \"react-router-dom\"\nimport './App.css'\nimport Login from \"./pages/Login\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Navbar from \"./components/Navbar\";\nimport SlideBar from \"./components/SlideBar\";\nimport UserPage from \"./pages/UserPage\";\nimport Users from \"./pages/Users\";\nimport { logoutUser } from \"./redux/userRedux\";\nimport jwt_decode from 'jwt-decode'\nimport Products from \"./pages/Products\";\nimport { useState } from \"react\";\nimport MessageComponent from \"./components/MesageComponent\";\nimport { useEffect } from \"react\";\nimport Orders from \"./pages/Orders\";\nimport Invoice from \"./pages/Invoice\";\nimport Annoucment from \"./pages/Annoucment\";\nimport Ticket from \"./pages/Ticket\";\nimport Addserviceorder from \"./components/Addserviceorder\";\nimport AllComplains from \"./pages/AllComplains\";\nimport Librery from \"./pages/Librery\";\nimport Renewrequest from \"./pages/Renewrequest\";\n\nfunction IsLogedin() {\n  const user = useSelector(state => state.user.currentUser)\n  return user ? <Navigate to={\"/\"}/> : <Outlet/>\n}\n\nfunction PrivateRoute() {\n  const dispatch = useDispatch()\n  const user = useSelector(state => state.user.currentUser)\n\n  if(!user?.accessToken) return <Navigate to=\"/login\" />\n\n  try {\n    const decoded = jwt_decode(user.accessToken)\n    if (decoded.exp * 1000 < Date.now()) {\n      dispatch(logoutUser())\n      return <Navigate to=\"/login\"/>\n    }\n  } catch (err) {\n    console.log(err)\n    dispatch(logoutUser())\n    return <Navigate to=\"/login\"/>\n  }\n  return <Outlet/>\n}\n\n\nfunction App() {\n  const user = useSelector(state => state.user.currentUser)\n  const [isSlideBarOpen, setisSlideBarOpen] = useState(false)\n\n  const location = useLocation()\n  useEffect(() => {\n    setisSlideBarOpen(false)\n  },[location.pathname])\n  \n  return (\n    <>\n      {user && (\n        <Navbar setSideBar={setisSlideBarOpen} isOpen={isSlideBarOpen} />\n      )}\n      <div style={{ height: \"100vh\" }}>\n        {user && <SlideBar isOpen={isSlideBarOpen} />}\n        <Routes>\n          <Route element={<IsLogedin />}>\n            <Route path=\"/login\" element={<Login />} />\n          </Route>\n\n          <Route element={<PrivateRoute />}>\n            <Route path=\"/\" element={<Home />} />\n            <Route path=\"/user\" element={<Users />} />\n            <Route path=\"/Ticket\" element={<Ticket />} />\n            <Route path=\"/AllLaibrary\" element={<Librery />} />\n            <Route path=\"/Renewrequest\" element={<Renewrequest />} />\n            <Route path=\"/AllComplains\" element={<AllComplains />} />\n            <Route path=\"/Addserviceorder\" element={<Addserviceorder />} />\n            <Route path=\"/user/:id\" element={<UserPage />} />\n            <Route path=\"/products\" element={<Products />} />\n            <Route path=\"/orders\" element={<Orders />} />\n            <Route path=\"/order/:id\" element={<Invoice />} />\n            <Route path=\"announcment\" element={<Annoucment />} />\n          </Route>\n        </Routes>\n        <MessageComponent />\n      </div>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}