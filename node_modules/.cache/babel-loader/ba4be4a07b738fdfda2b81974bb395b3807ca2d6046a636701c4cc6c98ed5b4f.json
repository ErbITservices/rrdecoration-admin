{"ast":null,"code":"import{useState,useEffect}from'react';import EditModal from'./EditModal';import styled from'styled-components';import CloudUploadOutlinedIcon from'@mui/icons-material/CloudUploadOutlined';import{updateUser}from'../redux/apiCalls/users';import{useDispatch}from'react-redux';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div`\n  margin: 1rem 0;\n  display: grid;\n  gap: 1rem;\n  @media (max-width: 800px) { //added this bza left side was overflowing\n    margin-left: 1em;\n  }\n`;const Section=styled.div`\n  display: flex;\n\n  @media (max-width: 800px) {\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n`;const Left=styled.div`\n  flex: 1;\n\n`;const Right=styled.div`\n  flex: 2;\n\n  > input, select {\n    box-sizing: border-box;\n    width: 100%;\n    padding: 0.9rem 0.5rem;\n    background-color: #F4F5F7;\n    border: 1px rgb(229,231,235) solid;\n    border-radius: 1vmin;\n    font-size: 1.1rem;\n    outline: none;\n\n    :focus  {\n      background-color: white;\n    }\n  }\n`;const UploadImage=styled.div`  \n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  border: 1px dashed black;\n  padding: 1rem;\n\n  > svg {\n    color: teal;\n  }\n`;const UploadTitle=styled.span`\n\n`;const UploadDesc=styled.p`\n  font-size: 0.7rem;\n`;function EditUser(_ref){let{isOpen,setIsOpen,EditUserInfo,title,desc,action}=_ref;const DefaultValues={firstName:\"\",lastName:\"\",email:\"\",phone:\"\",number:\"\",isAdmin:false};const[User,setUser]=useState(DefaultValues);useEffect(()=>{if(!EditUserInfo)return;setUser({...EditUserInfo});},[EditUserInfo]);const handleChange=e=>{const{name,value}=e.target;setUser(p=>({...p,[name]:value}));};const dispatch=useDispatch();const handleSubmit=async()=>{if(!EditUserInfo)return;const{resetPasswordExpire,createdAt,_id,...others}=User;await updateUser(dispatch,User._id,others);setIsOpen(false);};return/*#__PURE__*/_jsx(EditModal,{isOpen:isOpen,setIsOpen:setIsOpen,action:handleSubmit,title:title,desc:desc,children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsx(Left,{children:/*#__PURE__*/_jsx(\"label\",{children:\"User Image\"})}),/*#__PURE__*/_jsx(Right,{children:/*#__PURE__*/_jsxs(UploadImage,{children:[/*#__PURE__*/_jsx(CloudUploadOutlinedIcon,{}),/*#__PURE__*/_jsx(UploadTitle,{children:\"Drag your image here\"}),/*#__PURE__*/_jsx(UploadDesc,{children:\"(Only *.jpeg and *.png images will be accepted)\"})]})})]}),/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsx(Left,{children:/*#__PURE__*/_jsx(\"label\",{children:\"First name\"})}),/*#__PURE__*/_jsx(Right,{children:/*#__PURE__*/_jsx(\"input\",{name:\"firstName\",value:User===null||User===void 0?void 0:User.firstName,onChange:e=>handleChange(e)})})]}),/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsx(Left,{children:/*#__PURE__*/_jsx(\"label\",{children:\"Last name\"})}),/*#__PURE__*/_jsx(Right,{children:/*#__PURE__*/_jsx(\"input\",{name:\"lastName\",value:User===null||User===void 0?void 0:User.lastName,onChange:e=>handleChange(e)})})]}),/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsx(Left,{children:/*#__PURE__*/_jsx(\"label\",{children:\"Email\"})}),/*#__PURE__*/_jsx(Right,{children:/*#__PURE__*/_jsx(\"input\",{name:\"email\",value:User===null||User===void 0?void 0:User.email,onChange:e=>handleChange(e)})})]}),/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsx(Left,{children:/*#__PURE__*/_jsx(\"label\",{children:\"Number\"})}),/*#__PURE__*/_jsx(Right,{children:/*#__PURE__*/_jsx(\"input\",{name:\"number\",value:User===null||User===void 0?void 0:User.number,onChange:e=>handleChange(e)})})]}),/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsx(Left,{children:/*#__PURE__*/_jsx(\"label\",{children:\"IsAdmin\"})}),/*#__PURE__*/_jsx(Right,{children:/*#__PURE__*/_jsxs(\"select\",{onChange:e=>setUser(p=>({...p,isAdmin:e.target.value===\"true\"})),children:[\" \",/*#__PURE__*/_jsx(\"option\",{defaultValue:true,value:false,children:\"User\"}),/*#__PURE__*/_jsx(\"option\",{value:true,children:\"Admin\"})]})})]})]})});}export default EditUser;","map":{"version":3,"names":["useState","useEffect","EditModal","styled","CloudUploadOutlinedIcon","updateUser","useDispatch","jsx","_jsx","jsxs","_jsxs","Container","div","Section","Left","Right","UploadImage","UploadTitle","span","UploadDesc","p","EditUser","_ref","isOpen","setIsOpen","EditUserInfo","title","desc","action","DefaultValues","firstName","lastName","email","phone","number","isAdmin","User","setUser","handleChange","e","name","value","target","dispatch","handleSubmit","resetPasswordExpire","createdAt","_id","others","children","onChange","defaultValue"],"sources":["M:/first-react/panara/admin/src/components/EditUser.js"],"sourcesContent":["import {useState, useEffect} from 'react'\r\nimport EditModal from './EditModal'\r\nimport styled from 'styled-components'\r\nimport CloudUploadOutlinedIcon from '@mui/icons-material/CloudUploadOutlined';\r\nimport { updateUser } from '../redux/apiCalls/users';\r\nimport { useDispatch } from 'react-redux';\r\n\r\n\r\nconst Container = styled.div`\r\n  margin: 1rem 0;\r\n  display: grid;\r\n  gap: 1rem;\r\n  @media (max-width: 800px) { //added this bza left side was overflowing\r\n    margin-left: 1em;\r\n  }\r\n`\r\nconst Section = styled.div`\r\n  display: flex;\r\n\r\n  @media (max-width: 800px) {\r\n    flex-direction: column;\r\n    gap: 0.5rem;\r\n  }\r\n`\r\nconst Left = styled.div`\r\n  flex: 1;\r\n\r\n`\r\nconst Right = styled.div`\r\n  flex: 2;\r\n\r\n  > input, select {\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    padding: 0.9rem 0.5rem;\r\n    background-color: #F4F5F7;\r\n    border: 1px rgb(229,231,235) solid;\r\n    border-radius: 1vmin;\r\n    font-size: 1.1rem;\r\n    outline: none;\r\n\r\n    :focus  {\r\n      background-color: white;\r\n    }\r\n  }\r\n`\r\nconst UploadImage = styled.div`  \r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border: 1px dashed black;\r\n  padding: 1rem;\r\n\r\n  > svg {\r\n    color: teal;\r\n  }\r\n`\r\nconst UploadTitle = styled.span`\r\n\r\n`\r\nconst UploadDesc = styled.p`\r\n  font-size: 0.7rem;\r\n`\r\n\r\n\r\n\r\n\r\nfunction EditUser({isOpen, setIsOpen, EditUserInfo, title, desc, action}) {\r\n  const DefaultValues = {firstName:\"\", lastName:\"\", email:\"\", phone:\"\", number:\"\", isAdmin: false}\r\n\r\n  const [User, setUser] = useState(DefaultValues)\r\n\r\n  useEffect(() => {\r\n    if(!EditUserInfo) return \r\n    setUser({...EditUserInfo})\r\n  }, [EditUserInfo])\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value} = e.target;\r\n    setUser((p) => ({...p, [name] :  value}))\r\n  }\r\n\r\n  const dispatch = useDispatch()\r\n  const handleSubmit = async () => {\r\n\r\n    if(!EditUserInfo) return\r\n    const {resetPasswordExpire,createdAt,_id , ...others} = User;\r\n    await updateUser(dispatch, User._id, others)\r\n    \r\n    setIsOpen(false)\r\n  }\r\n\r\n  return (\r\n    <EditModal isOpen={isOpen} setIsOpen={setIsOpen} action={handleSubmit} title={title} desc={desc}>\r\n              <Container>\r\n          <Section>\r\n            <Left>\r\n              <label>User Image</label>\r\n            </Left>\r\n            <Right>\r\n              <UploadImage>\r\n                <CloudUploadOutlinedIcon/>\r\n                <UploadTitle>Drag your image here</UploadTitle>\r\n                <UploadDesc>(Only *.jpeg and *.png images will be accepted)</UploadDesc>\r\n              </UploadImage>\r\n            </Right>\r\n          </Section>\r\n\r\n           <Section>\r\n            <Left><label>First name</label></Left>\r\n            <Right><input name=\"firstName\" value={User?.firstName} onChange={e => handleChange(e)}/></Right>\r\n          </Section>\r\n\r\n          <Section>\r\n            <Left><label>Last name</label></Left>\r\n            <Right><input name=\"lastName\" value={User?.lastName} onChange={e => handleChange(e)}/></Right>\r\n          </Section>\r\n\r\n\r\n          <Section>\r\n            <Left><label>Email</label></Left>\r\n            <Right><input name=\"email\" value={User?.email} onChange={e => handleChange(e)}/></Right>\r\n          </Section>\r\n\r\n          <Section>\r\n            <Left><label>Number</label></Left>\r\n            <Right><input name=\"number\" value={User?.number} onChange={e => handleChange(e)}/></Right>\r\n          </Section>\r\n\r\n          <Section>\r\n            <Left><label>IsAdmin</label></Left>\r\n            <Right>\r\n              <select onChange={e => setUser(p => ({...p, isAdmin: (e.target.value === \"true\")}))}> {/* used === because i wanted to convert string \"true\" to boolean true  */}\r\n                <option defaultValue value={false}>User</option>\r\n                <option value={true}>Admin</option>\r\n              </select>\r\n            </Right>\r\n          </Section>\r\n          \r\n        </Container>\r\n    </EditModal>\r\n  )\r\n}\r\n\r\nexport default EditUser"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}