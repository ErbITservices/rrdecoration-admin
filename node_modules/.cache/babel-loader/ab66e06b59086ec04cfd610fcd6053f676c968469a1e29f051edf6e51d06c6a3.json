{"ast":null,"code":"import axios from\"axios\";const baseURL=`${process.env.REACT_APP_BACKEND_API_BASE_URL}`||\"http://localhost:4000\";function getAccessToken(){const storage=JSON.parse(localStorage.getItem(\"persist:root\"));const currentUser=storage?JSON.parse(storage.currentUser):null;return currentUser?currentUser===null||currentUser===void 0?void 0:currentUser.accessToken:null;}export const req=axios.create({baseURL});export const publicreq=axios.create({baseURL});req.interceptors.request.use(config=>{const newToken=getAccessToken();if(newToken){config.headers.token=`Bearer ${newToken}`;}return config;});","map":{"version":3,"names":["axios","baseURL","process","env","REACT_APP_BACKEND_API_BASE_URL","getAccessToken","storage","JSON","parse","localStorage","getItem","currentUser","accessToken","req","create","publicreq","interceptors","request","use","config","newToken","headers","token"],"sources":["M:/first-react/panara/admin/src/axiosReqMethods.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\n\r\n\r\nconst baseURL = `${process.env.REACT_APP_BACKEND_API_BASE_URL}` || \"http://localhost:4000\";\r\n\r\nfunction getAccessToken() {\r\n    const storage = JSON.parse(localStorage.getItem(\"persist:root\"))\r\n    const currentUser =  storage ? JSON.parse(storage.currentUser) : null;\r\n    return currentUser ? currentUser?.accessToken : null\r\n  }\r\n\r\nexport const req = axios.create({\r\n    baseURL,\r\n});\r\n \r\nexport const publicreq = axios.create({\r\n    baseURL,\r\n});\r\n\r\nreq.interceptors.request.use(config => {\r\n    const newToken = getAccessToken();\r\n    if (newToken) {\r\n      config.headers.token = `Bearer ${newToken}`;\r\n    }\r\n    return config;\r\n  });\r\n  \r\n\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAIzB,KAAM,CAAAC,OAAO,CAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,8BAA8B,EAAE,EAAI,uBAAuB,CAE1F,QAAS,CAAAC,cAAcA,CAAA,CAAG,CACtB,KAAM,CAAAC,OAAO,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,CAAC,CAChE,KAAM,CAAAC,WAAW,CAAIL,OAAO,CAAGC,IAAI,CAACC,KAAK,CAACF,OAAO,CAACK,WAAW,CAAC,CAAG,IAAI,CACrE,MAAO,CAAAA,WAAW,CAAGA,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEC,WAAW,CAAG,IAAI,CACtD,CAEF,MAAO,MAAM,CAAAC,GAAG,CAAGb,KAAK,CAACc,MAAM,CAAC,CAC5Bb,OACJ,CAAC,CAAC,CAEF,MAAO,MAAM,CAAAc,SAAS,CAAGf,KAAK,CAACc,MAAM,CAAC,CAClCb,OACJ,CAAC,CAAC,CAEFY,GAAG,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAACC,MAAM,EAAI,CACnC,KAAM,CAAAC,QAAQ,CAAGf,cAAc,CAAC,CAAC,CACjC,GAAIe,QAAQ,CAAE,CACZD,MAAM,CAACE,OAAO,CAACC,KAAK,CAAG,UAAUF,QAAQ,EAAE,CAC7C,CACA,MAAO,CAAAD,MAAM,CACf,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}