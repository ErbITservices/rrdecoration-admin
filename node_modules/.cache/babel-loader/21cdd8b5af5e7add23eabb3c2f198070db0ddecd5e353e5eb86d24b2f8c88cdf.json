{"ast":null,"code":"import React,{useEffect,useState}from'react';import styled from'styled-components';import{mobile}from'../Responsive';import{Link}from'react-router-dom';import{login}from'../redux/apiCalls/auth.js';import{useDispatch,useSelector}from'react-redux';//import { resetError } from '../redux/userRedux'\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Container=styled.div`\n    position: relative;\n    width: 100vw;\n    height: ${props=>props.is?\"calc(100vh - 60px)\":\"100vh\"}; //60px of navbar\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-image: linear-gradient(\n      rgba(255,255,255, 0.5),\n      rgba(255,255,255, 0.5)\n      ),\n      url(\"https://images.pexels.com/photos/131634/pexels-photo-131634.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1\");\n    \n    \n`;const Wrapper=styled.div`\n    width: min(400px, 80%);\n    padding: 40px 30px;\n    background-color: white;\n    display: flex;\n    flex-direction: column;\n    border-radius: 1vmax;\n    box-shadow: 20px 20px 50px grey;\n    ${mobile({padding:\"20px 15px\"})}\n    \n    \n`;const Title=styled.h1`\n  font-size: 24px;\n  font-weight: 300;\n  margin-bottom: 10px;\n`;const Form=styled.form`\n // width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n`;const Input=styled.input`\n  min-width: 80%;\n  padding: 10px;\n  margin: 15px 0;\n  flex: 1;\n  display: flex;\n  min-height: 40%;\n  border-radius: 0.5vmax;\n  ${mobile({margin:\"15px 0px\"})}\n`;const Button=styled.button`\n  margin: 10px 0px;\n  width: 40%;\n  border: none;\n  background-color: teal;;\n  padding: 15px 20px;\n  background-color: teal;\n  color: white;\n  border-radius: 1vmin;\n  margin-right: 60% ;\n  &:disabled{\n    color: green;\n    background-color: #e1e6ed;\n    cursor: not-allowed;\n  }\n`;const HelpLink=styled.a`\n    margin: 5px 0px; \n`;const Error=styled.span`\n    color: red;\n`;function Login(props){//to change title as soon as component mounts\nuseEffect(()=>{document.title=`Name - ${props.title}`;},[]);// eslint-disable-line react-hooks/exhaustive-deps\nconst user=useSelector(state=>state.user.currentUser);//is logedin user?\nconst[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const{isFetching}=useSelector(state=>state.user);const dispatch=useDispatch();const submit=async e=>{e.preventDefault();console.table(email,password);login(dispatch,{email,password});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Container,{is:user?true:false,children:/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(Title,{children:\"Login\"}),/*#__PURE__*/_jsxs(Form,{autoComplete:\"on\",onSubmit:submit,children:[/*#__PURE__*/_jsx(Input,{type:\"email\",placeholder:\"Email\",onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(Input,{type:\"password\",placeholder:\"Password\",onChange:e=>setPassword(e.target.value),autoComplete:\"off\"}),/*#__PURE__*/_jsx(HelpLink,{target:\"_blank\",style:{marginLeft:\"auto\",marginRight:\"0\"},children:/*#__PURE__*/_jsx(\"a\",{href:`${process.env.REACT_APP_MAIN_SITE_URL}/forgotpassword`,children:\"Forgot your password?\"})}),/*#__PURE__*/_jsx(Button,{disabled:isFetching,children:\"Login\"})]}),/*#__PURE__*/_jsx(HelpLink,{children:/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Create New Account\"})})]})})});}export default Login;","map":{"version":3,"names":["React","useEffect","useState","styled","mobile","Link","login","useDispatch","useSelector","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Container","div","props","is","Wrapper","padding","Title","h1","Form","form","Input","input","margin","Button","button","HelpLink","a","Error","span","Login","document","title","user","state","currentUser","email","setEmail","password","setPassword","isFetching","dispatch","submit","e","preventDefault","console","table","children","autoComplete","onSubmit","type","placeholder","onChange","target","value","style","marginLeft","marginRight","href","process","env","REACT_APP_MAIN_SITE_URL","disabled","to"],"sources":["M:/first-react/panara/admin/src/pages/Login.js"],"sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport styled from 'styled-components'\r\nimport { mobile } from '../Responsive'\r\nimport { Link } from 'react-router-dom'\r\nimport { login } from '../redux/apiCalls/auth.js'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\n//import { resetError } from '../redux/userRedux'\r\n\r\nconst Container = styled.div`\r\n    position: relative;\r\n    width: 100vw;\r\n    height: ${props => props.is ? \"calc(100vh - 60px)\" : \"100vh\"}; //60px of navbar\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-image: linear-gradient(\r\n      rgba(255,255,255, 0.5),\r\n      rgba(255,255,255, 0.5)\r\n      ),\r\n      url(\"https://images.pexels.com/photos/131634/pexels-photo-131634.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1\");\r\n    \r\n    \r\n`\r\nconst Wrapper = styled.div`\r\n    width: min(400px, 80%);\r\n    padding: 40px 30px;\r\n    background-color: white;\r\n    display: flex;\r\n    flex-direction: column;\r\n    border-radius: 1vmax;\r\n    box-shadow: 20px 20px 50px grey;\r\n    ${mobile({\r\n      padding: \"20px 15px\"\r\n    })}\r\n    \r\n    \r\n`\r\nconst Title = styled.h1`\r\n  font-size: 24px;\r\n  font-weight: 300;\r\n  margin-bottom: 10px;\r\n`\r\nconst Form = styled.form`\r\n // width: 100%;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n`\r\n\r\n\r\nconst Input = styled.input`\r\n  min-width: 80%;\r\n  padding: 10px;\r\n  margin: 15px 0;\r\n  flex: 1;\r\n  display: flex;\r\n  min-height: 40%;\r\n  border-radius: 0.5vmax;\r\n  ${mobile({\r\n    margin: \"15px 0px\",\r\n  })}\r\n`\r\n\r\n\r\nconst Button = styled.button`\r\n  margin: 10px 0px;\r\n  width: 40%;\r\n  border: none;\r\n  background-color: teal;;\r\n  padding: 15px 20px;\r\n  background-color: teal;\r\n  color: white;\r\n  border-radius: 1vmin;\r\n  margin-right: 60% ;\r\n  &:disabled{\r\n    color: green;\r\n    background-color: #e1e6ed;\r\n    cursor: not-allowed;\r\n  }\r\n`\r\nconst HelpLink = styled.a`\r\n    margin: 5px 0px; \r\n`\r\nconst Error = styled.span`\r\n    color: red;\r\n`\r\n\r\n\r\nfunction Login(props) {\r\n\r\n  //to change title as soon as component mounts\r\n  useEffect(() => {\r\n    document.title = `Name - ${props.title}`\r\n  }, []) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  const user = useSelector(state => state.user.currentUser) //is logedin user?\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const { isFetching } = useSelector(state => state.user)\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  \r\n\r\n  const submit = async (e) => { \r\n    e.preventDefault();\r\n    console.table(email, password)\r\n    \r\n    login( dispatch ,{ email , password })\r\n\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <Container is={user ? true : false}>\r\n        <Wrapper>\r\n            <Title>Login</Title>\r\n            <Form autoComplete='on' onSubmit={submit}>\r\n                <Input type=\"email\" placeholder='Email' onChange={(e)=> setEmail(e.target.value)}></Input>\r\n                <Input type=\"password\" placeholder='Password' onChange={(e)=> setPassword(e.target.value)} autoComplete=\"off\"></Input>\r\n                <HelpLink target=\"_blank\" style={{marginLeft:\"auto\", marginRight:\"0\" }}><a href={`${process.env.REACT_APP_MAIN_SITE_URL}/forgotpassword`}>Forgot your password?</a></HelpLink>\r\n                <Button  disabled={isFetching}>Login</Button>\r\n            </Form>\r\n            \r\n            {/* {console.log(error.error)} */}\r\n            \r\n            {/* <HelpLink><Link to=\"/forgotpassword\">Do note remember your Password?</Link></HelpLink> */}\r\n            <HelpLink><Link to=\"/signup\">Create New Account</Link></HelpLink>\r\n        </Wrapper>\r\n        \r\n    </Container>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Login"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}