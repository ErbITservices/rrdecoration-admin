{"ast":null,"code":"import axios from \"axios\";\nconst baseURL = `${process.env.REACT_APP_BACKEND_API_BASE_URL}` || \"http://localhost:4000\";\nfunction getAccessToken() {\n  const storage = JSON.parse(localStorage.getItem(\"persist:root\"));\n  const currentUser = storage ? JSON.parse(storage.currentUser) : null;\n  return currentUser ? currentUser === null || currentUser === void 0 ? void 0 : currentUser.accessToken : null;\n}\nexport const req = axios.create({\n  baseURL\n});\nexport const publicreq = axios.create({\n  baseURL\n});\nreq.interceptors.request.use(config => {\n  const newToken = getAccessToken();\n  if (newToken) {\n    config.headers.token = `Bearer ${newToken}`;\n  }\n  return config;\n});","map":{"version":3,"names":["axios","baseURL","process","env","REACT_APP_BACKEND_API_BASE_URL","getAccessToken","storage","JSON","parse","localStorage","getItem","currentUser","accessToken","req","create","publicreq","interceptors","request","use","config","newToken","headers","token"],"sources":["M:/first-react/rrdecoration/admin/src/axiosReqMethods.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\n\r\n\r\nconst baseURL = `${process.env.REACT_APP_BACKEND_API_BASE_URL}` || \"http://localhost:4000\";\r\n\r\nfunction getAccessToken() {\r\n    const storage = JSON.parse(localStorage.getItem(\"persist:root\"))\r\n    const currentUser =  storage ? JSON.parse(storage.currentUser) : null;\r\n    return currentUser ? currentUser?.accessToken : null\r\n  }\r\n\r\nexport const req = axios.create({\r\n    baseURL,\r\n});\r\n \r\nexport const publicreq = axios.create({\r\n    baseURL,\r\n});\r\n\r\nreq.interceptors.request.use(config => {\r\n    const newToken = getAccessToken();\r\n    if (newToken) {\r\n      config.headers.token = `Bearer ${newToken}`;\r\n    }\r\n    return config;\r\n  });\r\n  \r\n\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAIzB,MAAMC,OAAO,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,8BAA8B,EAAE,IAAI,uBAAuB;AAE1F,SAASC,cAAcA,CAAA,EAAG;EACtB,MAAMC,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,CAAC;EAChE,MAAMC,WAAW,GAAIL,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACF,OAAO,CAACK,WAAW,CAAC,GAAG,IAAI;EACrE,OAAOA,WAAW,GAAGA,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEC,WAAW,GAAG,IAAI;AACtD;AAEF,OAAO,MAAMC,GAAG,GAAGb,KAAK,CAACc,MAAM,CAAC;EAC5Bb;AACJ,CAAC,CAAC;AAEF,OAAO,MAAMc,SAAS,GAAGf,KAAK,CAACc,MAAM,CAAC;EAClCb;AACJ,CAAC,CAAC;AAEFY,GAAG,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAACC,MAAM,IAAI;EACnC,MAAMC,QAAQ,GAAGf,cAAc,CAAC,CAAC;EACjC,IAAIe,QAAQ,EAAE;IACZD,MAAM,CAACE,OAAO,CAACC,KAAK,GAAG,UAAUF,QAAQ,EAAE;EAC7C;EACA,OAAOD,MAAM;AACf,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}