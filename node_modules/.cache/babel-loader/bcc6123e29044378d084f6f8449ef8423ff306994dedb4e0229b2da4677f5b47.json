{"ast":null,"code":"import styled from\"styled-components\";import RemoveRedEyeOutlinedIcon from\"@mui/icons-material/RemoveRedEyeOutlined\";import ContentCopyIcon from\"@mui/icons-material/ContentCopy\";import{req}from\"../axiosReqMethods\";import{useDispatch}from\"react-redux\";import{setError}from\"../redux/MessageRedux\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const TableWrapper=styled.div`\n  margin-top: 20px;\n  overflow: auto;\n  border: 1px solid #d5d6d7;\n  border-radius: 1vmin;\n`;const Table=styled.table`\n  width: 100%;\n  min-width: 1000px;\n  border-collapse: collapse;\n  overflow: auto;\n`;const Thead=styled.thead`\n  background-color: teal;\n  color: white;\n`;const Tbody=styled.tbody`\n  background-color: white;\n\n  > :nth-last-child() {\n    border-bottom: 2px solid teal;\n    background-color: red;\n  }\n`;const Td=styled.td`\n  padding: 0.6rem 1rem;\n  vertical-align: middle;\n  margin-top: auto;\n\n  > svg {\n    color: rgb(171, 171, 171);\n    :hover {\n      color: rgb(130, 130, 130);\n    }\n  }\n`;const Tr=styled.tr`\n  border-bottom: 1px solid #d5d6d7;\n`;//status//\nconst statusColors={pending:{background:\"FDF6B2\",color:\"C6783B\"},processing:{background:\"DEF7EC\",color:\"87A66E\"},delivered:{background:\"E1EFFE\",color:\"3F91FA\"}};const Status=styled.p`\n  font-weight: 500;\n  margin: 0;\n  text-align: center;\n  border-radius: 50px;\n  background-color: #${_ref=>{var _statusColors$status;let{status}=_ref;return(_statusColors$status=statusColors[status])===null||_statusColors$status===void 0?void 0:_statusColors$status.background;}};\n  color: #${_ref2=>{var _statusColors$status2;let{status}=_ref2;return(_statusColors$status2=statusColors[status])===null||_statusColors$status2===void 0?void 0:_statusColors$status2.color;}};\n`;//status END//\nconst Image=styled.img`\n    width: 2rem;\n    height: 2rem;\n    border-radius: 10px;\n    object-position: center`;const Select=styled.select`\n  height: 2rem;\n  border-radius: 0.5vmin;\n  border: 1px solid lightgrey;\n  background-color: #f9fafb;\n  padding: 0 0.5rem;\n`;const Options=styled.option``;function ComplainTable(_ref3){let{orders}=_ref3;const navigate=useNavigate();const dispatch=useDispatch();const handleStateChange=async(id,e)=>{const{value}=e.target;try{const{data}=await req.put(`/api/complain/update/${id}`,{status:value});dispatch(setError(data.message));//   setOrders((p) =>\n//     p.map((o) => {\n//       if (o._id === id) {\n//         return { ...o, orderStatus: value };\n//       }\n//       return o;\n//     })\n//   );\n}catch(error){dispatch(setError(error.response.data.message));}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(TableWrapper,{children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(Thead,{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(Td,{children:\"Complain ID\"}),/*#__PURE__*/_jsx(Td,{children:\"TIME\"}),/*#__PURE__*/_jsx(Td,{children:\"ERROR PIC\"}),/*#__PURE__*/_jsx(Td,{children:\"LIBRARY\"}),/*#__PURE__*/_jsx(Td,{children:\"PROBLEM STATMENT\"}),/*#__PURE__*/_jsx(Td,{children:\"MOBILE\"}),/*#__PURE__*/_jsx(Td,{children:\"STATUS\"}),/*#__PURE__*/_jsx(Td,{children:\"CHANGE STATUS\"}),/*#__PURE__*/_jsx(Td,{children:\"ERROR\"})]})}),/*#__PURE__*/_jsx(Tbody,{children:orders===null||orders===void 0?void 0:orders.map(o=>{return/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsx(ContentCopyIcon,{onClick:()=>navigator.clipboard.writeText(o._id)})}),/*#__PURE__*/_jsx(Td,{children:new Date(o.createdAt).toDateString()}),/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsx(Image,{src:o.img})}),/*#__PURE__*/_jsx(Td,{children:o.lname}),/*#__PURE__*/_jsx(Td,{children:o.problemstatement}),/*#__PURE__*/_jsx(Td,{children:o.mobilenumber}),/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsx(Status,{status:o.status,children:o.status.charAt(0).toUpperCase()+o.status.slice(1)})}),/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsxs(Select,{value:o.status,onChange:e=>handleStateChange(o._id,e),children:[/*#__PURE__*/_jsx(Options,{value:\"pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(Options,{value:\"processing\",children:\"Processing\"}),/*#__PURE__*/_jsx(Options,{value:\"delivered\",children:\"Solved\"})]})}),/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsx(RemoveRedEyeOutlinedIcon,{onClick:()=>window.location.href=o.img})})]},o._id);})})]})})});}export default ComplainTable;","map":{"version":3,"names":["styled","RemoveRedEyeOutlinedIcon","ContentCopyIcon","req","useDispatch","setError","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TableWrapper","div","Table","table","Thead","thead","Tbody","tbody","Td","td","Tr","tr","statusColors","pending","background","color","processing","delivered","Status","p","_ref","_statusColors$status","status","_ref2","_statusColors$status2","Image","img","Select","select","Options","option","ComplainTable","_ref3","orders","navigate","dispatch","handleStateChange","id","e","value","target","data","put","message","error","response","children","map","o","onClick","navigator","clipboard","writeText","_id","Date","createdAt","toDateString","src","lname","problemstatement","mobilenumber","charAt","toUpperCase","slice","onChange","window","location","href"],"sources":["M:/first-react/panara/admin/src/components/ComplainTable.js"],"sourcesContent":["import styled from \"styled-components\";\r\nimport RemoveRedEyeOutlinedIcon from \"@mui/icons-material/RemoveRedEyeOutlined\";\r\nimport ContentCopyIcon from \"@mui/icons-material/ContentCopy\";\r\nimport { req } from \"../axiosReqMethods\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setError } from \"../redux/MessageRedux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst TableWrapper = styled.div`\r\n  margin-top: 20px;\r\n  overflow: auto;\r\n  border: 1px solid #d5d6d7;\r\n  border-radius: 1vmin;\r\n`;\r\nconst Table = styled.table`\r\n  width: 100%;\r\n  min-width: 1000px;\r\n  border-collapse: collapse;\r\n  overflow: auto;\r\n`;\r\nconst Thead = styled.thead`\r\n  background-color: teal;\r\n  color: white;\r\n`;\r\nconst Tbody = styled.tbody`\r\n  background-color: white;\r\n\r\n  > :nth-last-child() {\r\n    border-bottom: 2px solid teal;\r\n    background-color: red;\r\n  }\r\n`;\r\nconst Td = styled.td`\r\n  padding: 0.6rem 1rem;\r\n  vertical-align: middle;\r\n  margin-top: auto;\r\n\r\n  > svg {\r\n    color: rgb(171, 171, 171);\r\n    :hover {\r\n      color: rgb(130, 130, 130);\r\n    }\r\n  }\r\n`;\r\nconst Tr = styled.tr`\r\n  border-bottom: 1px solid #d5d6d7;\r\n`;\r\n\r\n//status//\r\nconst statusColors = {\r\n  pending: { background: \"FDF6B2\", color: \"C6783B\" },\r\n  processing: { background: \"DEF7EC\", color: \"87A66E\" },\r\n  delivered: { background: \"E1EFFE\", color: \"3F91FA\" },\r\n};\r\nconst Status = styled.p`\r\n  font-weight: 500;\r\n  margin: 0;\r\n  text-align: center;\r\n  border-radius: 50px;\r\n  background-color: #${({ status }) => statusColors[status]?.background};\r\n  color: #${({ status }) => statusColors[status]?.color};\r\n`;\r\n//status END//\r\n\r\nconst Image = styled.img`\r\n    width: 2rem;\r\n    height: 2rem;\r\n    border-radius: 10px;\r\n    object-position: center`;\r\n\r\nconst Select = styled.select`\r\n  height: 2rem;\r\n  border-radius: 0.5vmin;\r\n  border: 1px solid lightgrey;\r\n  background-color: #f9fafb;\r\n  padding: 0 0.5rem;\r\n`;\r\nconst Options = styled.option``;\r\n\r\nfunction ComplainTable({ orders }) {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  const handleStateChange = async (id, e) => {\r\n    const { value } = e.target;\r\n    try {\r\n      const { data } = await req.put(`/api/complain/update/${id}`, {\r\n        status: value,\r\n      });\r\n      dispatch(setError(data.message));\r\n    //   setOrders((p) =>\r\n    //     p.map((o) => {\r\n    //       if (o._id === id) {\r\n    //         return { ...o, orderStatus: value };\r\n    //       }\r\n    //       return o;\r\n    //     })\r\n    //   );\r\n    } catch (error) {\r\n      dispatch(setError(error.response.data.message));\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <TableWrapper>\r\n        <Table>\r\n          <Thead>\r\n            <tr>\r\n              <Td>Complain ID</Td>\r\n              <Td>TIME</Td>\r\n              <Td>ERROR PIC</Td>\r\n              <Td>LIBRARY</Td>\r\n              <Td>PROBLEM STATMENT</Td>\r\n              <Td>MOBILE</Td>\r\n              <Td>STATUS</Td>\r\n              <Td>CHANGE STATUS</Td>\r\n              <Td>ERROR</Td>\r\n            </tr>\r\n          </Thead>\r\n          <Tbody>\r\n            {orders?.map((o) => {\r\n              return (\r\n                <Tr key={o._id}>\r\n                  <Td>\r\n                    <ContentCopyIcon\r\n                      onClick={() => navigator.clipboard.writeText(o._id)}\r\n                    />\r\n                  </Td>\r\n                  <Td>{new Date(o.createdAt).toDateString()}</Td>\r\n                  {/* <Td>{`${o.userInfo.address?.city}, ${o.userInfo.address?.state}`}</Td> */}\r\n                  <Td>\r\n                    <Image src={o.img} />\r\n                  </Td>\r\n                  <Td>{o.lname}</Td>\r\n\r\n                  <Td>{o.problemstatement}</Td>\r\n                  <Td>{o.mobilenumber}</Td>\r\n                  <Td><Status status={o.status}>{o.status.charAt(0).toUpperCase() + o.status.slice(1)}</Status></Td>\r\n                  <Td>\r\n                    <Select\r\n                      value={o.status}\r\n                      onChange={(e) => handleStateChange(o._id, e)}\r\n                    >\r\n                      <Options value=\"pending\">Pending</Options>\r\n                      <Options value=\"processing\">Processing</Options>\r\n                      <Options value=\"delivered\">Solved</Options>\r\n                    </Select>\r\n                  </Td>\r\n                      <Td>\r\n                    <RemoveRedEyeOutlinedIcon\r\n                      onClick={() => window.location.href = o.img}\r\n                    />\r\n                  </Td>\r\n                </Tr>\r\n              );\r\n            })}\r\n          </Tbody>\r\n        </Table>\r\n      </TableWrapper>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ComplainTable;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}