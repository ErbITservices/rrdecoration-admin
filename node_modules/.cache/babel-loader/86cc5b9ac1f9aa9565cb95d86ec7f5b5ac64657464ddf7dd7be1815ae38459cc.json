{"ast":null,"code":"import{useState}from'react';import styled from'styled-components';import EditIcon from'@mui/icons-material/Edit';import DeleteIcon from'@mui/icons-material/Delete';import EditAnnouncments from'./EditAnnouncments';import{req}from'../axiosReqMethods';import{useDispatch}from'react-redux';import{setError}from'../redux/MessageRedux';import{removeAnnoucment}from'../redux/AnnoucmentRedux';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const TableWrapper=styled.div`\n  margin-top: 1rem;\n  overflow: auto;\n  border: 1px solid #EEE;\n  border-radius: 1vmin;\n`;const Table=styled.table`\n  width: 100%;\n  border-collapse: collapse;\n`;const Thead=styled.thead`\n  background-color: teal;\n  color: #FFF;\n  text-align: left;\n`;const Tbody=styled.tbody``;const Tr=styled.tr`\n  border-bottom: 1px solid #EEE;\n  &:last-child {\n    border-bottom: none;\n  }\n`;const Td=styled.td`\n  padding: 1rem;\n`;function AnnoucmentsTable(_ref){let{announcments}=_ref;const dispatch=useDispatch();const[editIsOpen,setEditIsOpen]=useState(false);const[editAnnoucmentInfo,setEditAnnoucmentInfo]=useState();const handleEdit=a=>{setEditAnnoucmentInfo(a);setEditIsOpen(true);};const handleDelete=async id=>{try{const{data}=await req.delete(`/api/announcment/${id}`);dispatch(setError(data.message));dispatch(removeAnnoucment(id));}catch(error){console.log(error.response.data.message);dispatch(setError(error.response.data.message));}};return/*#__PURE__*/_jsxs(_Fragment,{children:[announcments?/*#__PURE__*/_jsx(TableWrapper,{children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(Thead,{children:/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Td,{children:\"Title\"}),/*#__PURE__*/_jsx(Td,{children:\"Status\"}),/*#__PURE__*/_jsx(Td,{children:\"Date Added\"}),/*#__PURE__*/_jsx(Td,{children:\"Last updated\"}),/*#__PURE__*/_jsx(Td,{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(Tbody,{children:announcments.map(a=>{return/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Td,{children:a.title}),/*#__PURE__*/_jsx(Td,{children:JSON.stringify(a.active)}),/*#__PURE__*/_jsx(Td,{children:new Date(a.createdAt).toLocaleDateString()}),/*#__PURE__*/_jsx(Td,{children:new Date(a.updatedAt).toLocaleDateString()}),/*#__PURE__*/_jsxs(Td,{children:[/*#__PURE__*/_jsx(EditIcon,{onClick:()=>handleEdit(a)}),/*#__PURE__*/_jsx(DeleteIcon,{onClick:()=>handleDelete(a._id)})]})]},a._id);})})]})}):null,/*#__PURE__*/_jsx(EditAnnouncments,{isOpen:editIsOpen,setIsOpen:setEditIsOpen,EditAnnouncmentsInfo:editAnnoucmentInfo,title:\"Edit Annoucment\",desc:\"Edit your Annoucment's information from here\"})]});}export default AnnoucmentsTable;","map":{"version":3,"names":["useState","styled","EditIcon","DeleteIcon","EditAnnouncments","req","useDispatch","setError","removeAnnoucment","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TableWrapper","div","Table","table","Thead","thead","Tbody","tbody","Tr","tr","Td","td","AnnoucmentsTable","_ref","announcments","dispatch","editIsOpen","setEditIsOpen","editAnnoucmentInfo","setEditAnnoucmentInfo","handleEdit","a","handleDelete","id","data","delete","message","error","console","log","response","children","map","title","JSON","stringify","active","Date","createdAt","toLocaleDateString","updatedAt","onClick","_id","isOpen","setIsOpen","EditAnnouncmentsInfo","desc"],"sources":["M:/first-react/panara/admin/src/components/AnnoucmentsTable.js"],"sourcesContent":["import {useState} from 'react'\r\nimport styled from 'styled-components'\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport EditAnnouncments from './EditAnnouncments';\r\nimport { req } from '../axiosReqMethods';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setError } from '../redux/MessageRedux';\r\nimport { removeAnnoucment } from '../redux/AnnoucmentRedux';\r\n\r\nconst TableWrapper = styled.div`\r\n  margin-top: 1rem;\r\n  overflow: auto;\r\n  border: 1px solid #EEE;\r\n  border-radius: 1vmin;\r\n`\r\nconst Table = styled.table`\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n`\r\nconst Thead = styled.thead`\r\n  background-color: teal;\r\n  color: #FFF;\r\n  text-align: left;\r\n`\r\nconst Tbody = styled.tbody``\r\nconst Tr = styled.tr`\r\n  border-bottom: 1px solid #EEE;\r\n  &:last-child {\r\n    border-bottom: none;\r\n  }\r\n`\r\nconst Td = styled.td`\r\n  padding: 1rem;\r\n`\r\n\r\n\r\nfunction AnnoucmentsTable({announcments}) {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const [editIsOpen, setEditIsOpen] = useState(false)\r\n    const [editAnnoucmentInfo, setEditAnnoucmentInfo] = useState()\r\n  \r\n    const handleEdit = (a) => {\r\n      setEditAnnoucmentInfo(a)\r\n      setEditIsOpen(true)\r\n    }\r\n\r\n    const handleDelete = async (id) => {\r\n      try {\r\n        const {data} = await req.delete(`/api/announcment/${id}`);\r\n        dispatch(setError(data.message))\r\n        dispatch(removeAnnoucment(id))\r\n      } catch (error) {\r\n        console.log(error.response.data.message)\r\n        dispatch(setError(error.response.data.message))\r\n      }\r\n    }\r\n  return (\r\n    <>\r\n        {announcments ? <TableWrapper>\r\n            <Table>\r\n            <Thead>\r\n                <Tr>\r\n                <Td>Title</Td>\r\n                <Td>Status</Td>\r\n                <Td>Date Added</Td>\r\n                <Td>Last updated</Td>\r\n                <Td>Actions</Td>\r\n                </Tr>\r\n            </Thead>\r\n            <Tbody>\r\n            {announcments.map(a => {\r\n                return <Tr key={a._id}>\r\n                <Td>{a.title}</Td>\r\n                <Td>{JSON.stringify(a.active)}</Td>\r\n                <Td>{new Date(a.createdAt).toLocaleDateString()}</Td>\r\n                <Td>{new Date(a.updatedAt).toLocaleDateString()}</Td>\r\n                <Td>\r\n                <EditIcon onClick={() => handleEdit(a)}/>\r\n                <DeleteIcon onClick={() => handleDelete(a._id)}/>\r\n                </Td>\r\n            </Tr>\r\n            })}\r\n            </Tbody>\r\n            </Table>\r\n        </TableWrapper> : null}\r\n        <EditAnnouncments isOpen={editIsOpen} setIsOpen={setEditIsOpen} EditAnnouncmentsInfo={editAnnoucmentInfo} title=\"Edit Annoucment\" desc=\"Edit your Annoucment's information from here\" />\r\n      </>\r\n  )\r\n}\r\n\r\nexport default AnnoucmentsTable"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}