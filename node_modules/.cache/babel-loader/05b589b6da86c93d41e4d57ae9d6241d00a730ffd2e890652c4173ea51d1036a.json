{"ast":null,"code":"import styled from'styled-components';import RemoveRedEyeOutlinedIcon from'@mui/icons-material/RemoveRedEyeOutlined';import ContentCopyIcon from'@mui/icons-material/ContentCopy';import{req}from'../axiosReqMethods';import{useDispatch}from'react-redux';import{setError}from'../redux/MessageRedux';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const TableWrapper=styled.div`\n    margin-top: 20px;   \n    overflow: auto;\n    border: 1px solid #d5d6d7;\n    border-radius: 1vmin;\n`;const Table=styled.table`\n    width: 100%; \n    min-width: 1000px;   \n    border-collapse: collapse;  \n    overflow: auto  ;\n`;const Thead=styled.thead`\n    background-color: teal;\n    color: white;\n`;const Tbody=styled.tbody`\n    background-color: white;\n\n    > :nth-last-child() {\n        border-bottom: 2px solid teal;\n        background-color: red;\n    }\n    \n`;const Td=styled.td`\n    padding: 0.60rem 1rem;\n    vertical-align: middle;\n    margin-top: auto;\n\n    > svg{\n        color: rgb(171,171,171);\n        :hover {\n            color: rgb(130,130,130);\n        }\n    }\n`;const Tr=styled.tr`\n    border-bottom: 1px solid #d5d6d7;\n\n`;//status//\nconst statusColors={pending:{background:\"FDF6B2\",color:\"C6783B\"},processing:{background:\"DEF7EC\",color:\"87A66E\"},delivered:{background:\"E1EFFE\",color:\"3F91FA\"}};const Status=styled.p`\n    font-weight: 500;\n    margin: 0;\n    text-align: center;\n    border-radius: 50px;\n    background-color: #${_ref=>{var _statusColors$status;let{status}=_ref;return(_statusColors$status=statusColors[status])===null||_statusColors$status===void 0?void 0:_statusColors$status.background;}};\n    color: #${_ref2=>{var _statusColors$status2;let{status}=_ref2;return(_statusColors$status2=statusColors[status])===null||_statusColors$status2===void 0?void 0:_statusColors$status2.color;}};\n`;//status END//\nconst Select=styled.select`\n    height: 2rem;\n    border-radius: 0.5vmin;\n    border: 1px solid lightgrey;\n    background-color: #F9FAFB;\n    padding: 0 0.5rem;\n`;const Options=styled.option`\n    \n`;function OrdersTabel(_ref3){let{orders,setOrders}=_ref3;const navigate=useNavigate();const dispatch=useDispatch();const handleStateChange=async(id,e)=>{const{value}=e.target;try{const{data}=await req.put(`/api/orders/status/${id}`,{status:value});dispatch(setError(data.message));setOrders(p=>p.map(o=>{if(o._id===id){return{...o,orderStatus:value};}return o;}));}catch(error){dispatch(setError(error.response.data.message));}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(TableWrapper,{children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(Thead,{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(Td,{children:\"Order ID\"}),/*#__PURE__*/_jsx(Td,{children:\"TIME\"}),/*#__PURE__*/_jsx(Td,{children:\"SHIPPING ADDRESS\"}),/*#__PURE__*/_jsx(Td,{children:\"PHONE\"}),/*#__PURE__*/_jsx(Td,{children:\"AMOUNT\"}),/*#__PURE__*/_jsx(Td,{children:\"STATUS\"}),/*#__PURE__*/_jsx(Td,{children:\"ACTION\"}),/*#__PURE__*/_jsx(Td,{children:\"INVOICE\"})]})}),/*#__PURE__*/_jsx(Tbody,{children:orders===null||orders===void 0?void 0:orders.map(o=>{var _o$userInfo$address,_o$userInfo$address2;return/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsx(ContentCopyIcon,{onClick:()=>navigator.clipboard.writeText(o._id)})}),/*#__PURE__*/_jsx(Td,{children:new Date(o.createdAt).toDateString()}),/*#__PURE__*/_jsx(Td,{children:`${(_o$userInfo$address=o.userInfo.address)===null||_o$userInfo$address===void 0?void 0:_o$userInfo$address.city}, ${(_o$userInfo$address2=o.userInfo.address)===null||_o$userInfo$address2===void 0?void 0:_o$userInfo$address2.state}`}),/*#__PURE__*/_jsx(Td,{children:o.userInfo.address.mobile}),/*#__PURE__*/_jsx(Td,{children:o.price}),/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsx(Status,{status:o.orderStatus,children:o.orderStatus.charAt(0).toUpperCase()+o.orderStatus.slice(1)})}),/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsxs(Select,{value:o.orderStatus,onChange:e=>handleStateChange(o._id,e),children:[/*#__PURE__*/_jsx(Options,{value:\"pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(Options,{value:\"processing\",children:\"Processing\"}),/*#__PURE__*/_jsx(Options,{value:\"delivered\",children:\"Delivered\"})]})}),/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsx(RemoveRedEyeOutlinedIcon,{onClick:()=>navigate(`/order/${o._id}`)})})]},o._id);})})]})})});}export default OrdersTabel;","map":{"version":3,"names":["styled","RemoveRedEyeOutlinedIcon","ContentCopyIcon","req","useDispatch","setError","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TableWrapper","div","Table","table","Thead","thead","Tbody","tbody","Td","td","Tr","tr","statusColors","pending","background","color","processing","delivered","Status","p","_ref","_statusColors$status","status","_ref2","_statusColors$status2","Select","select","Options","option","OrdersTabel","_ref3","orders","setOrders","navigate","dispatch","handleStateChange","id","e","value","target","data","put","message","map","o","_id","orderStatus","error","response","children","_o$userInfo$address","_o$userInfo$address2","onClick","navigator","clipboard","writeText","Date","createdAt","toDateString","userInfo","address","city","state","mobile","price","charAt","toUpperCase","slice","onChange"],"sources":["M:/first-react/panara/admin/src/components/OrdersTabel.js"],"sourcesContent":["import styled from 'styled-components'\r\nimport RemoveRedEyeOutlinedIcon from '@mui/icons-material/RemoveRedEyeOutlined';\r\nimport ContentCopyIcon from '@mui/icons-material/ContentCopy';\r\nimport { req } from '../axiosReqMethods';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setError } from '../redux/MessageRedux';\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst TableWrapper = styled.div`\r\n    margin-top: 20px;   \r\n    overflow: auto;\r\n    border: 1px solid #d5d6d7;\r\n    border-radius: 1vmin;\r\n`\r\nconst Table = styled.table`\r\n    width: 100%; \r\n    min-width: 1000px;   \r\n    border-collapse: collapse;  \r\n    overflow: auto  ;\r\n`\r\nconst Thead = styled.thead`\r\n    background-color: teal;\r\n    color: white;\r\n`\r\nconst Tbody = styled.tbody`\r\n    background-color: white;\r\n\r\n    > :nth-last-child() {\r\n        border-bottom: 2px solid teal;\r\n        background-color: red;\r\n    }\r\n    \r\n`\r\nconst Td = styled.td`\r\n    padding: 0.60rem 1rem;\r\n    vertical-align: middle;\r\n    margin-top: auto;\r\n\r\n    > svg{\r\n        color: rgb(171,171,171);\r\n        :hover {\r\n            color: rgb(130,130,130);\r\n        }\r\n    }\r\n`\r\nconst Tr = styled.tr`\r\n    border-bottom: 1px solid #d5d6d7;\r\n\r\n`\r\n\r\n\r\n//status//\r\nconst statusColors = {\r\n    pending: { background: \"FDF6B2\", color: \"C6783B\" },\r\n    processing: { background: \"DEF7EC\", color: \"87A66E\" },\r\n    delivered: { background: \"E1EFFE\", color: \"3F91FA\" }\r\n};  \r\nconst Status = styled.p`\r\n    font-weight: 500;\r\n    margin: 0;\r\n    text-align: center;\r\n    border-radius: 50px;\r\n    background-color: #${({ status }) => statusColors[status]?.background};\r\n    color: #${({ status }) => statusColors[status]?.color};\r\n`;\r\n//status END//\r\n\r\nconst Select = styled.select`\r\n    height: 2rem;\r\n    border-radius: 0.5vmin;\r\n    border: 1px solid lightgrey;\r\n    background-color: #F9FAFB;\r\n    padding: 0 0.5rem;\r\n`\r\nconst Options = styled.option`\r\n    \r\n`\r\n\r\nfunction OrdersTabel({orders, setOrders}) {\r\n    const navigate = useNavigate()\r\nconst dispatch = useDispatch();\r\n\r\nconst handleStateChange = async (id, e) => {\r\n    const { value } = e.target;\r\n    try {\r\n        const {data} = await req.put(`/api/orders/status/${id}`, {status: value})\r\n        dispatch(setError(data.message))\r\n        setOrders(p => p.map((o) => {\r\n            if(o._id === id) {\r\n                return {...o, orderStatus: value}\r\n            }\r\n            return o;\r\n        }))\r\n    } catch (error) {\r\n        dispatch(setError(error.response.data.message))\r\n    }\r\n\r\n}\r\n  return ( <>\r\n    <TableWrapper>\r\n        <Table>\r\n            <Thead>\r\n                <tr>\r\n                    <Td>Order ID</Td>\r\n                    <Td>TIME</Td>\r\n                    <Td>SHIPPING ADDRESS</Td>\r\n                    <Td>PHONE</Td>\r\n                    <Td>AMOUNT</Td>\r\n                    <Td>STATUS</Td>\r\n                    <Td>ACTION</Td>\r\n                    <Td>INVOICE</Td>\r\n                </tr>\r\n                \r\n            </Thead>\r\n            <Tbody>\r\n                {orders?.map((o) => {\r\n                    return <Tr key={o._id}>\r\n                        <Td><ContentCopyIcon onClick={() => navigator.clipboard.writeText(o._id)}/></Td>\r\n                        <Td>{new Date(o.createdAt).toDateString()}</Td>\r\n                        <Td>{`${o.userInfo.address?.city}, ${o.userInfo.address?.state}`}</Td>\r\n                        <Td>{o.userInfo.address.mobile}</Td>\r\n                        <Td>{o.price}</Td>\r\n                        <Td><Status status={o.orderStatus}>{o.orderStatus.charAt(0).toUpperCase() + o.orderStatus.slice(1)}</Status></Td>\r\n                        <Td>\r\n                            <Select value={o.orderStatus} onChange={(e) => handleStateChange(o._id, e)}>\r\n                                <Options value=\"pending\">Pending</Options>\r\n                                <Options value=\"processing\">Processing</Options>\r\n                                <Options value=\"delivered\">Delivered</Options>\r\n                            </Select>\r\n                        </Td>\r\n                        <Td><RemoveRedEyeOutlinedIcon onClick={() => navigate(`/order/${o._id}`)}/></Td>\r\n                    </Tr>\r\n                })}\r\n            </Tbody>\r\n        </Table>\r\n    </TableWrapper>\r\n    </>\r\n    \r\n  )\r\n}\r\n\r\nexport default OrdersTabel"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}